function setupInternalLinks(){document.addEventListener('click',(e)=>{const link=e.target.closest('a');if(!link)return;const href=link.getAttribute('href');if(href&&href.startsWith('/')&&!href.startsWith('//')){return;}});}
function setupAnchorLinks(){document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener('click',function(e){const href=this.getAttribute('href');if(href==='#')return;const target=document.querySelector(href);if(target){e.preventDefault();target.scrollIntoView({behavior:'smooth',block:'start'});}});});}
function highlightCurrentPage(){const currentPath=window.location.pathname;const navLinks=document.querySelectorAll('.nav-link');navLinks.forEach(link=>{const linkPath=new URL(link.href).pathname;if(linkPath===currentPath||(currentPath==='/'&&linkPath==='/index.html')||(currentPath.startsWith('/search')&&linkPath==='/search.html')){link.classList.add('active');}});}
document.addEventListener('DOMContentLoaded',()=>{setupInternalLinks();setupAnchorLinks();highlightCurrentPage();});document.addEventListener('DOMContentLoaded',()=>{const content=document.querySelector('.main-content');if(content){content.style.opacity='0';content.style.transition='opacity 0.3s ease-in';setTimeout(()=>{content.style.opacity='1';},50);}});